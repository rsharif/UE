<!DOCTYPE html>
<html>
<head>
	<title>QUnit Test Suite</title>
	<link rel="stylesheet" href="../qunit.css" type="text/css" media="screen">
	<script src='../../js/thirdParty/jquery.js'></script>
	<script type="text/javascript" src="../qunit.js"></script>
	<!-- Your project file goes here -->
	<script type="text/javascript" src="../../js/plugins/miscControls.js"></script>
	<script type="text/javascript" src="../../js/plugins/colorPicker.js"></script>
	<!-- Your tests file goes here -->
	<script type="text/javascript">
		/* Mocking utils.getFrameDocument */
		utils = {
			getFrameDocument: function(){
				return {
					execCommand: function(){
					}
				}
			}
		}
		var textColor
		module("Color Picker Tests",{
			setup : function(){
				textColor = new TextColor("color");
				textColor.colorSelectionCallback = function(){
				};
				$("body").append(textColor.getElement);
			} ,
			teardown : function(){
				textColor.getElement().remove();
				$("#gridColorPicker").remove();
			}
		});
		test('colorSpanDisplay',function(){
			ok(textColor.getElement().is(":visible"),"color element is visible")
			equal(textColor.getElement().attr("id"),"color" , "ID is set to color");
		});
		test('clickShouldDisplayPicker',function(){
			textColor.getElement().click();
			console.log($("#gridColorPicker").html());
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			
		});
		test('clickAgainShouldHidePicker',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			textColor.getElement().click();
			ok(!$("#gridColorPicker").is(":visible"),"ColorPicker Div is hidden now");
			
		});
		
		test('clickOnBodyShouldHidePicker',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$('body').click();
			ok(!$("#gridColorPicker").is(":visible"),"ColorPicker Div is hidden now");
		});
		
		test('clickingFirstColorShouldSetValueToBlack',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#firstRowColors > div")[0]).click();
			equal(textColor.getSelectedColor(),"rgb(0, 0, 0)","Color is set to black");
			ok(!$("#gridColorPicker").is(":visible"),"ColorPicker Div is hidden now");
		});
		
		test('clickingFirstColorShouldSetValueToGrey',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#firstRowColors > div")[5]).click();
			equal(textColor.getSelectedColor(),"rgb(204, 204, 204)","Color is set to grey");
		});
		
		test('clickingFirstColorShouldSetValueToWhite',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#firstRowColors > div")[9]).click();
			equal(textColor.getSelectedColor(),"rgb(255, 255, 255)","Color is set to white");
		});
		
		test('clickingFirstColorShouldSetValueToWhite',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#firstRowColors > div")[9]).click();
			equal(textColor.getSelectedColor(),"rgb(255, 255, 255)","Color is set to white");
		});
		
		test('clickingFirstColorShouldSetValueToMaron',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#secondRowColors > div")[0]).click();
			equal(textColor.getSelectedColor(),"rgb(152, 0, 0)","Color is set to Maron");
		});
		
		test('clickingFirstColorShouldSetValueToMaron',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#secondRowColors > div")[0]).click();
			equal(textColor.getSelectedColor(),"rgb(152, 0, 0)","Color is set to Maron");
		});
		
		test('clickingFirstColorShouldSetValueToBlue',function(){
			//show first
			textColor.getElement().click();
			ok($("#gridColorPicker").is(":visible"),"ColorPicker Div is visible");
			//hide
			$($("#secondRowColors > div")[7]).click();
			equal(textColor.getSelectedColor(),"rgb(0, 0, 255)","Color is set to Blue");
		});
		
		 
	</script>
</head>
<body>
	<h1 id="qunit-header">QUnit Test Suite</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	
</body>
</html>
